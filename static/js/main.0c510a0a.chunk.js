(this["webpackJsonpasx-annoucements"]=this["webpackJsonpasx-annoucements"]||[]).push([[0],{12:function(e,a,t){e.exports=t(25)},17:function(e,a,t){},25:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(11),l=t.n(r),s=(t(17),t(5)),d=t(3),i=t(4),o=(t(18),t(7)),u=t(8),m=t(2),b=t.n(m);function E(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(JSON.parse(localStorage.getItem("savedData"))),s=Object(i.a)(l,2),m=s[0],E=s[1],f=Object(n.useState)(0),p=Object(i.a)(f,2),h=p[0],O=p[1],j=Object(n.useState)(!0),g=Object(i.a)(j,2),S=g[0],k=g[1],y=Object(n.useState)(!0),x=Object(i.a)(y,2),N=x[0],D=x[1];Object(n.useEffect)((function(){h||(O(!0),fetch("https://asx-node.herokuapp.com/?price_sensitive=".concat(S?"true":"false","&asx300=").concat(N?"true":"false")).then((function(e){return e.json()})).then((function(e){return r(b.a.orderBy(b.a.map(e,(function(e){var a=e.id;return Object(d.a)(Object(d.a)({},e),{},{read:b.a.get(m,[a,"read"],!1),saved:b.a.get(m,[a,"saved"],!1)})}))),["read","saved","id"],["asc","asc","desc"])})).catch((function(e){return console.error(e)})).finally((function(){return O(!1)})))}),[S,N]),Object(n.useEffect)((function(){m||E({}),localStorage.setItem("savedData",JSON.stringify(m))}),[m]);var A=b.a.map(t,(function(e){var a=e.id;return Object(d.a)(Object(d.a)({},e),{},{read:b.a.get(m,[a,"read"],!1),saved:b.a.get(m,[a,"saved"],!1)})}));return c.a.createElement("div",{className:"body"},c.a.createElement("div",{className:"header"},c.a.createElement("h2",null,"ASX Recent Announcement Feed"),c.a.createElement("p",null,"A scraped collection of ASX announcements from midnight today.")),c.a.createElement("div",{className:"filters"},c.a.createElement("div",null,c.a.createElement("label",null,"Price sensitive only?"),c.a.createElement("input",{type:"checkbox",checked:S,onChange:function(){return k(!S)},disabled:h})),c.a.createElement("div",null,c.a.createElement("label",null,"ASX 300 only?"),c.a.createElement("input",{type:"checkbox",checked:N,onChange:function(){return D(!N)},disabled:h})),c.a.createElement("div",{className:h?"loading":"loaded"},h?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Loading"),c.a.createElement(o.a,{icon:u.c,spin:!0,size:"2x"})):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Loaded"),c.a.createElement(o.a,{icon:u.a})))),!b.a.isEmpty(A)&&b.a.map(A,(function(e){return c.a.createElement(v,{data:e,key:e.id,savedData:m,setSavedData:E})})))}var v=function(e){var a=e.data,t=e.savedData,n=e.setSavedData,r=a.id,l=a.description,i=a.discussionUrl,m=a.ticker,b=a.time,E=a.businessName,v=a.read,f=a.saved,p=function(){f||n(Object(d.a)(Object(d.a)({},t),{},Object(s.a)({},r,{saved:f,read:!v})))};return c.a.createElement("div",{className:"card ".concat(f?"saved":""," ").concat(!f&&v?"read":"")},c.a.createElement("div",{className:"card-header"},c.a.createElement("p",null,m," - ",E),c.a.createElement("p",null,b)),c.a.createElement("div",{className:"card-body"},c.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",onClick:p},l,c.a.createElement(o.a,{icon:u.b,size:"xs"})),c.a.createElement("div",{className:"read-saved"},c.a.createElement("div",null,c.a.createElement("label",null,"Saved"),c.a.createElement("input",{type:"checkbox",checked:f,onChange:function(){return n(Object(d.a)(Object(d.a)({},t),{},Object(s.a)({},r,{read:!1,saved:!f})))}})),c.a.createElement("div",null,c.a.createElement("label",null,"Read"),c.a.createElement("input",{type:"checkbox",checked:v,onChange:p,disabled:f})))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.0c510a0a.chunk.js.map