(this["webpackJsonpasx-annoucements"]=this["webpackJsonpasx-annoucements"]||[]).push([[0],{12:function(e,a,t){e.exports=t(25)},17:function(e,a,t){},25:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(11),r=t.n(l),s=(t(17),t(5)),d=t(2),i=t(4),o=(t(18),t(7)),u=t(8),m=t(3),E=t.n(m);function b(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(JSON.parse(localStorage.getItem("savedData"))),s=Object(i.a)(r,2),m=s[0],b=s[1],f=Object(n.useState)(0),p=Object(i.a)(f,2),h=p[0],O=p[1],j=Object(n.useState)(!0),g=Object(i.a)(j,2),S=g[0],k=g[1],y=Object(n.useState)(!0),x=Object(i.a)(y,2),N=x[0],D=x[1];return Object(n.useEffect)((function(){h||(O(!0),fetch("https://asx-node.herokuapp.com/?price_sensitive=".concat(S?"true":"false","&asx300=").concat(N?"true":"false")).then((function(e){return e.json()})).then((function(e){var a=E.a.map(e,(function(e){var a=e.id;return Object(d.a)(Object(d.a)({},e),{},{read:E.a.get(m,[a,"read"],!1),saved:E.a.get(m,[a,"saved"],!1)})})),t=E.a.orderBy(a,["read","saved","id"],["asc","asc","desc"]);l(t)})).catch((function(e){return console.error(e)})).finally((function(){return O(!1)})))}),[S,N]),Object(n.useEffect)((function(){m||b({}),localStorage.setItem("savedData",JSON.stringify(m))}),[m]),c.a.createElement("div",{className:"body"},c.a.createElement("div",{className:"header"},c.a.createElement("h2",null,"ASX Recent Announcement Feed"),c.a.createElement("p",null,"A scraped collection of ASX announcements from midnight today.")),c.a.createElement("div",{className:"filters"},c.a.createElement("div",null,c.a.createElement("label",null,"Price sensitive only?"),c.a.createElement("input",{type:"checkbox",checked:S,onChange:function(){return k(!S)},disabled:h})),c.a.createElement("div",null,c.a.createElement("label",null,"ASX 300 only?"),c.a.createElement("input",{type:"checkbox",checked:N,onChange:function(){return D(!N)},disabled:h})),c.a.createElement("div",{className:h?"loading":"loaded"},h?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Loading"),c.a.createElement(o.a,{icon:u.c,spin:!0,size:"2x"})):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Loaded"),c.a.createElement(o.a,{icon:u.a})))),!E.a.isEmpty(t)&&E.a.map(t,(function(e){return c.a.createElement(v,{data:e,key:e.id,savedData:m,setSavedData:b})})))}var v=function(e){var a=e.data,t=e.savedData,n=e.setSavedData,l=a.id,r=a.description,i=a.discussionUrl,m=a.ticker,E=a.time,b=a.businessName,v=a.read,f=a.saved,p=function(){f||n(Object(d.a)(Object(d.a)({},t),{},Object(s.a)({},l,{saved:f,read:!v})))};return c.a.createElement("div",{className:"card ".concat(f?"saved":""," ").concat(!f&&v?"read":"")},c.a.createElement("div",{className:"card-header"},c.a.createElement("p",null,m," - ",b),c.a.createElement("p",null,E)),c.a.createElement("div",{className:"card-body"},c.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",onClick:p},r,c.a.createElement(o.a,{icon:u.b,size:"xs"})),c.a.createElement("div",{className:"read-saved"},c.a.createElement("div",null,c.a.createElement("label",null,"Saved"),c.a.createElement("input",{type:"checkbox",checked:f,onChange:function(){return n(Object(d.a)(Object(d.a)({},t),{},Object(s.a)({},l,{read:!1,saved:!f})))}})),c.a.createElement("div",null,c.a.createElement("label",null,"Read"),c.a.createElement("input",{type:"checkbox",checked:v,onChange:p,disabled:f})))))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.432eb90d.chunk.js.map